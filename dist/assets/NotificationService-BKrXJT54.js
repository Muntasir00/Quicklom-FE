import{a as i,S as n}from"./index-B6y33jCJ.js";let o=sessionStorage.getItem("role");o=o||"institute";const u=async()=>{var e,t,r;try{const a=await i.get(`/v.1/${o}/notifications`);return((e=a.data)==null?void 0:e.status)===!1?[]:(t=a==null?void 0:a.data)==null?void 0:t.data}catch(a){const s=(r=a.response)==null?void 0:r.data;if(s!=null&&s.errors){const c=Object.values(s.errors).flat().join(`
`);n.fire("Error",c,"error")}return[]}},l=async()=>{var e,t,r;try{const a=await i.get(`/v.1/${o}/notifications`);return((e=a.data)==null?void 0:e.status)===!1?[]:(t=a==null?void 0:a.data)==null?void 0:t.data}catch(a){const s=(r=a.response)==null?void 0:r.data;if(s!=null&&s.errors){const c=Object.values(s.errors).flat().join(`
`);n.fire("Error",c,"error")}return[]}},d=async e=>{var t;try{return((t=(await i.put(`/v.1/${o}/notifications/${e}/mark-read`)).data)==null?void 0:t.status)===!0}catch{return!1}},m=async e=>{var t;try{return((t=(await i.put(`/v.1/${o}/notifications/${e}/mark-unread`)).data)==null?void 0:t.status)===!0}catch{return!1}},v=async()=>{var e,t;try{const r=await i.put(`/v.1/${o}/notifications/mark-all-read`);return((e=r.data)==null?void 0:e.status)===!0?(n.fire({title:"Success!",text:((t=r.data)==null?void 0:t.message)||"All notifications marked as read",icon:"success",timer:2e3,showConfirmButton:!1}),!0):!1}catch{return n.fire("Error","Failed to mark all notifications as read","error"),!1}};export{u as getNotificationsService,l as getUserNotificationsService,v as markAllNotificationsAsReadService,d as markNotificationAsReadService,m as markNotificationAsUnreadService};
