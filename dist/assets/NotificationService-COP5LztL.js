import{a as n,S as i}from"./index-Dm0OjH__.js";let s=sessionStorage.getItem("role");s=s||"institute";const u=async()=>{var a,e,r;try{const t=await n.get(`/v.1/${s}/notifications`);return((a=t.data)==null?void 0:a.status)===!1?[]:(e=t==null?void 0:t.data)==null?void 0:e.data}catch(t){console.error("Error occurred:",t);const o=(r=t.response)==null?void 0:r.data;if(o!=null&&o.errors){const c=Object.values(o.errors).flat().join(`
`);i.fire("Error",c,"error")}return[]}},l=async()=>{var a,e,r;try{const t=await n.get(`/v.1/${s}/notifications`);return((a=t.data)==null?void 0:a.status)===!1?[]:(e=t==null?void 0:t.data)==null?void 0:e.data}catch(t){console.error("Error occurred:",t);const o=(r=t.response)==null?void 0:r.data;if(o!=null&&o.errors){const c=Object.values(o.errors).flat().join(`
`);i.fire("Error",c,"error")}return[]}},d=async a=>{var e;try{return((e=(await n.put(`/v.1/${s}/notifications/${a}/mark-read`)).data)==null?void 0:e.status)===!0}catch(r){return console.error("Error marking notification as read:",r),!1}},m=async a=>{var e;try{return((e=(await n.put(`/v.1/${s}/notifications/${a}/mark-unread`)).data)==null?void 0:e.status)===!0}catch(r){return console.error("Error marking notification as unread:",r),!1}},g=async()=>{var a,e;try{const r=await n.put(`/v.1/${s}/notifications/mark-all-read`);return((a=r.data)==null?void 0:a.status)===!0?(i.fire({title:"Success!",text:((e=r.data)==null?void 0:e.message)||"All notifications marked as read",icon:"success",timer:2e3,showConfirmButton:!1}),!0):!1}catch(r){return console.error("Error marking all notifications as read:",r),i.fire("Error","Failed to mark all notifications as read","error"),!1}};export{u as getNotificationsService,l as getUserNotificationsService,g as markAllNotificationsAsReadService,d as markNotificationAsReadService,m as markNotificationAsUnreadService};
